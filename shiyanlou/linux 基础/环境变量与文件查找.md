# 环境变量

## 自定义变量
>tmp=shiyanlou
>echo $tmp

## 环境变量
境变量就是作用域比自定义变量要大，如Shell 的环境变量作用于自身和它的子进程。在所有的 UNIX 和类 UNIX 系统中，每个进程都有其各自的环境变量设置。

## 三种环境变量
* 当前 Shell 进程私有用户自定义变量，如上面我们创建的 temp 变量，只在当前 Shell 中有效。
* Shell 本身内建的变量。
* 从自定义变量导出的环境变量。

## 三种操作环境变量的命令
*  **set**	显示当前 Shell 所有变量，包括其内建环境变量（与 Shell 外观等相关），用户自定义变量及导出的环境变量
* **env**	显示与当前用户相关的环境变量，还可以让命令在指定环境中运行
* **export**	显示从 Shell 中导出成环境变量的变量，也能通过它将自定义变量导出为环境变量

![](https://dn-anything-about-doc.qbox.me/linux_base/5-3.png/logoblackfont)

## 环境变量生存周期
按变量的生存周期来划分，Linux变量可分为两类

* 永久的：需要修改配置文件，变量永久生效
* 临时的：使用export命令行声明即可，变量在关闭shell时失效。 这里介绍两个重要文件
>/etc/bash.bashrc 存放的是 shell变量 
/etc/profile  存放的是环境变量 对所有用户永久生效

每个用户目录下的一个隐藏文件**.profile**只对当前用户永久生效

所以如果想要添加一个永久生效的环境变量，只需要打开**/etc/profile**，在最后加上你想添加的环境变量就好啦

## 添加自定义路径到“PATH”环境变量
> PATH=$PATH:/home/shiyanlou/mybin

注意这里一定要使用绝对路径
现在你就可以在其他任意目录执行那两个命令

在每个用户的 home 目录中有一个 Shell 每次启动时会默认执行一个配置脚本，以初始化环境，包括添加一些用户自定义环境变量等等。
zsh 的配置文件是.zshrc，相应 Bash 的配置文件为.bashrc。它们在etc下还都有一个或多个全局的配置文件，不过我们一般只修改用户目录下的配置文件。
> echo "PATH=$PATH:/home/shiyanlou/mybin" >> .bashrc


## 修改和删除已有变量

**变量设置方式	说明**
{变量名#匹配字串}	从头向后开始匹配，删除符合匹配字串的最短数据
{变量名##匹配字串}	从头向后开始匹配，删除符合匹配字串的最长数据
{变量名%匹配字串}	从尾向前开始匹配，删除符合匹配字串的最短数据
{变量名%%匹配字串}	从尾向前开始匹配，删除符合匹配字串的最长数据
{变量名/旧的字串/新的字串}	将符合旧字串的第一个字串替换为新的字串
{变量名//旧的字串/新的字串}	将符合旧字串的全部字串替换为新的字串


使用unset命令删除一个环境变量
> unset temp

## 如何让环境变量立即生效
> source .zshrc
或者
> source .bashrc



















